{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      tasks: ['']\n    };\n  },\n\n  methods: {\n    async getData() {\n      try {\n        const response = await axios.get('http://localhost:8000/api/taskss/?format=json');\n        this.tasks = response.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async toggleTask(task) {\n      try {\n        const response = await axios.put(`http://localhost:8000/api/taskss/${task.title}/?format=json`, {\n          completed: !task.completed,\n          title: task.title,\n          description: task.description\n        });\n        let taskIndex = this.tasks.findIndex(t => t.id === task.id);\n        this.tasks = this.tasks.map(task => {\n          if (this.tasks.findIndex(t => t.id === task.id) === taskIndex) {\n            return response.data;\n          }\n\n          return task;\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  },\n\n  created() {\n    this.getData();\n  }\n\n};","map":{"version":3,"mappings":"AAiBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACdC,MAAI,GAAG;AACN,WAAO;AACNC,WAAK,EAAE,CAAC,EAAD;AADD,KAAP;AAGA,GALa;;AAOfC,SAAO,EAAE;AACR,UAAMC,OAAN,GAAgB;AACf,UAAG;AACF,cAAMC,QAAO,GAAI,MAAML,KAAK,CAACM,GAAN,CAAU,+CAAV,CAAvB;AACA,aAAKJ,KAAL,GAAaG,QAAQ,CAACJ,IAAtB;AACD,OAHA,CAIA,OAAOM,KAAP,EAAc;AACbC,eAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACA,KATO;;AAWR,UAAMG,UAAN,CAAiBC,IAAjB,EAAsB;AACrB,UAAG;AACF,cAAMN,QAAO,GAAI,MAAML,KAAK,CAACY,GAAN,CAAW,oCAAmCD,IAAI,CAACE,KAAM,eAAzD,EAAyE;AAC/FC,mBAAS,EAAE,CAACH,IAAI,CAACG,SAD8E;AAE/FD,eAAK,EAAEF,IAAI,CAACE,KAFmF;AAG/FE,qBAAW,EAAEJ,IAAI,CAACI;AAH6E,SAAzE,CAAvB;AAMA,YAAIC,SAAQ,GAAI,KAAKd,KAAL,CAAWe,SAAX,CAAqBC,KAAKA,CAAC,CAACC,EAAF,KAASR,IAAI,CAACQ,EAAxC,CAAhB;AAEA,aAAKjB,KAAL,GAAa,KAAKA,KAAL,CAAWkB,GAAX,CAAgBT,IAAD,IAAU;AACrC,cAAG,KAAKT,KAAL,CAAWe,SAAX,CAAqBC,KAAKA,CAAC,CAACC,EAAF,KAASR,IAAI,CAACQ,EAAxC,MAAgDH,SAAnD,EAA6D;AAC7D,mBAAOX,QAAQ,CAACJ,IAAhB;AACA;;AACA,iBAAOU,IAAP;AACA,SALY,CAAb;AAMD,OAfA,CAgBA,OAAMJ,KAAN,EAAY;AACXC,eAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACD;;AA/BQ,GAPM;;AAyCfc,SAAO,GAAG;AACT,SAAKjB,OAAL;AACD;;AA3Ce,CAAf","names":["axios","data","tasks","methods","getData","response","get","error","console","log","toggleTask","task","put","title","completed","description","taskIndex","findIndex","t","id","map","created"],"sourceRoot":"","sources":["/home/andrei/djangoWorkspace/APITest/client/django_task_client/src/components/MyTasks.vue"],"sourcesContent":["<template>\n\t<div class=\"task_container\">\n\t\t<div class=\"task_content\">\n\t\t\t<h1>Tasks</h1>\n\t\t\t<ul class=\"tasks_list\">\n\t\t\t\t<li v-for=\"task in tasks\" :key=\"task.id\">\n\t\t\t\t\t<h2>{{ task.title }}</h2>\n\t\t\t\t\t<p>{{ task.description }} </p>\n\t\t\t\t\t<button @click=\"toggleTask(task)\">{{ task.completed ? 'Undo' : 'Complete' }} </button>\n\t\t\t\t\t<button @click=\"deteleTask(task)\">Delete</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttasks: ['']\n\t\t}\n\t},\n\nmethods: {\n\tasync getData() {\n\t\ttry{\n\t\t\tconst response = await axios.get('http://localhost:8000/api/taskss/?format=json');\n\t\t\tthis.tasks = response.data;\n\t\t}\n\t\tcatch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t},\n\n\tasync toggleTask(task){\n\t\ttry{\n\t\t\tconst response = await axios.put(`http://localhost:8000/api/taskss/${task.title}/?format=json`, {\n\t\t\t\tcompleted: !task.completed,\n\t\t\t\ttitle: task.title,\n\t\t\t\tdescription: task.description\n\t\t\t});\n\n\t\t\tlet taskIndex = this.tasks.findIndex(t => t.id === task.id);\n\n\t\t\tthis.tasks = this.tasks.map((task) => {\n\t\t\t\tif(this.tasks.findIndex(t => t.id === task.id) === taskIndex){\n\t\t\t\treturn response.data;\n\t\t\t\t}\n\t\t\t\treturn task;\n\t\t\t});\n\t\t}\n\t\tcatch(error){\n\t\t\tconsole.log(error);\n\t\t}\n\t}\n},\n\ncreated() {\n\tthis.getData();\n}\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}