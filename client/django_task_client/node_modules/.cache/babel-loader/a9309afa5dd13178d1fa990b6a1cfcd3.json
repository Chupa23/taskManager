{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"task_container\"\n};\nconst _hoisted_2 = {\n  class: \"add_task\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"title\"\n}, \"Title\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"description\"\n}, \"Description\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Add Task\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = {\n  class: \"task_content\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Tasks\", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = {\n  class: \"tasks_list\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => _ctx.submitForm && _ctx.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"title\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.title = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.title]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-control\",\n    id: \"description\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.description = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.description]])]), _hoisted_7], 32\n  /* HYDRATE_EVENTS */\n  )]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"ul\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tasks, task => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: task.id\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(task.title), 1\n    /* TEXT */\n    ), _createElementVNode(\"p\", null, _toDisplayString(task.description), 1\n    /* TEXT */\n    ), _createElementVNode(\"button\", {\n      onClick: $event => $options.toggleTask(task)\n    }, _toDisplayString(task.completed ? \"Undo\" : \"Complete\"), 9\n    /* TEXT, PROPS */\n    , _hoisted_11), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.deteleTask(task)\n    }, \"Delete\", 8\n    /* PROPS */\n    , _hoisted_12)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]);\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;AAEFA,OAAK,EAAC;;;gCACTC,oBAAgC,OAAhC,EAAgC;AAAzBC,KAAG,EAAC;AAAqB,CAAhC,EAAmB,OAAnB,EAAwB;AAAA;AAAxB;;;AAGGF,OAAK,EAAC;;;gCACTC,oBAA4C,OAA5C,EAA4C;AAArCC,KAAG,EAAC;AAAiC,CAA5C,EAAyB,aAAzB,EAAoC;AAAA;AAApC;;gCAOFD,oBAEM,KAFN,EAEM;AAFDD,OAAK,EAAC;AAEL,CAFN,EAAuB,cACrBC,oBAAuC,QAAvC,EAAuC;AAA/BE,MAAI,EAAC;AAA0B,CAAvC,EAAsB,UAAtB,CADqB,CAAvB;;AAAA;;;AAKCH,OAAK,EAAC;;;gCACTC,oBAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,EAAS;AAAA;AAAT;;;AACID,OAAK,EAAC;;;;;uBAtBdI,oBAiCM,KAjCN,cAiCM,CAhCJH,oBAkBM,KAlBN,cAkBM,CAjBJA,oBAgBO,MAhBP,EAgBO;AAhBII,YAAM,wDAAUC,2CAAV,EAAoB,WAApB;AAgBV,GAhBP,GACEL,oBAGM,KAHN,cAGM,CAFJM,UAEI,kBADJN,oBAAqE,OAArE,EAAqE;AAA9DE,QAAI,EAAC,MAAyD;AAAlDH,SAAK,EAAC,cAA4C;AAA7BQ,MAAE,EAAC,OAA0B;+DAATF,aAAKG;AAAI,GAArE;;AAAA,oBAA4DH,aACxD,CAHN,GAIAL,oBAOM,KAPN,cAOM,CANJS,UAMI,kBALJT,oBAIY,UAJZ,EAIY;AAHVD,SAAK,EAAC,cAGI;AAFVQ,MAAE,EAAC,aAEO;+DADDF,mBAAWG;AACV,GAJZ;;AAAA,oBAGWH,mBAEP,CAPN,GAQAK,WAbF;;AAAA,GAiBI,CAlBN,CAgCI,EAbJV,oBAYM,KAZN,cAYM,CAXJW,UAWI,EAVJX,oBASK,IATL,eASK,oBARHG,oBAOKS,SAPL,EAOK,IAPL,EAOKC,YAPcC,WAOd,EAPMC,IAAa,IAAT;yBAAfZ,oBAOK,IAPL,EAOK;AAPsBa,SAAG,EAAED,IAAI,CAACR;AAOhC,KAPL,GACEP,oBAAyB,IAAzB,EAAyB,IAAzB,EAAyBiB,iBAAlBF,IAAI,CAACG,KAAa,CAAzB,EAAiB;AAAA;AAAjB,OACAlB,oBAA6B,GAA7B,EAA6B,IAA7B,EAA6BiB,iBAAvBF,IAAI,CAACI,WAAkB,CAA7B,EAAsB;AAAA;AAAtB,OACAnB,oBAES,QAFT,EAES;AAFAoB,aAAK,YAAEC,oBAAWN,IAAX;AAEP,KAFT,mBACKA,IAAI,CAACO,SAAL,GAAc,MAAd,GAAc,WADnB,EACmB;AAAA;AADnB,MACmBC,WADnB,GAGAvB,oBAAiD,QAAjD,EAAiD;AAAxCoB,aAAK,YAAEf,gBAAWU,IAAX;AAAiC,KAAjD,EAAkC,QAAlC,EAAwC;AAAA;AAAxC,MAAwCS,WAAxC,EANF;GAOK,CAPL;;AAAA,GAQG,EATL,CAUI,CAZN,CAaI,CAjCN","names":["class","_createElementVNode","for","type","_createElementBlock","onSubmit","_ctx","_hoisted_4","id","$event","_hoisted_6","_hoisted_7","_hoisted_9","_Fragment","_renderList","$data","task","key","_toDisplayString","title","description","onClick","$options","completed","_hoisted_11","_hoisted_12"],"sourceRoot":"","sources":["/home/andrei/djangoWorkspace/APITest/client/django_task_client/src/components/MyTasks.vue"],"sourcesContent":["<template>\n  <div class=\"task_container\">\n    <div class=\"add_task\">\n      <form v-on:submit.prevent=\"submitForm\">\n        <div class=\"form-group\">\n          <label for=\"title\">Title</label>\n          <input type=\"text\" class=\"form-control\" id=\"title\" v-model=\"title\" />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"description\">Description</label>\n          <textarea\n            class=\"form-control\"\n            id=\"description\"\n            v-model=\"description\"\n          ></textarea>\n        </div>\n        <div class=\"form-group\">\n          <button type=\"submit\">Add Task</button>\n        </div>\n      </form>\n    </div>\n    <div class=\"task_content\">\n      <h1>Tasks</h1>\n      <ul class=\"tasks_list\">\n        <li v-for=\"task in tasks\" :key=\"task.id\">\n          <h2>{{ task.title }}</h2>\n          <p>{{ task.description }}</p>\n          <button @click=\"toggleTask(task)\">\n            {{ task.completed ? \"Undo\" : \"Complete\" }}\n          </button>\n          <button @click=\"deteleTask(task)\">Delete</button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      tasks: [\"\"],\n    };\n  },\n\n  methods: {\n    async getData() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:8000/api/taskss/?format=json\"\n        );\n        this.tasks = response.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async toggleTask(task) {\n      try {\n        const response = await axios.put(\n          `http://localhost:8000/api/taskss/${task.id}/?format=json`,\n          {\n            completed: !task.completed,\n            title: task.title,\n            description: task.description,\n          }\n        );\n\n        let taskIndex = this.tasks.findIndex((t) => t.id === task.id);\n\n        this.tasks = this.tasks.map((task) => {\n          if (this.tasks.findIndex((t) => t.id === task.id) === taskIndex) {\n            return response.data;\n          }\n          return task;\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n\n  created() {\n    this.getData();\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}